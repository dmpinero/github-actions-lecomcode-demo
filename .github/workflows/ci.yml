# Optional - The name of the workflow as it will appear in the "Actions" tab of the GitHub repository. If this field is omitted, the name of the workflow file will be used instead.
name: CI

# Specifies the trigger for this workflow. In this case, the workflow will be trigger when a PR is opened to main or when commits are pushed into main.
on:
  push:
    branches:
      - "main"
  pull_request:
    branches: [ main ]

jobs:
  build-test:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        node-version: [14, 16, 18]

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        uses: actions/setup-node@v4
          with:
            node-version: ${{ matrix.node-version }}

      - name: Build and test
        working-directory: ./hangman-api
        run: | # This '|' symbol allows to write several commands 
          npm ci
          npm run build --if-present
          npm test